@_color-line: fade(#000, 40%);
@_color-hoverbg: #c8e4f8;

#tree {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	overflow: auto;
	text-align: center;
	background-color: fade(#000, 10%);
	padding-left: 400px;
	* {
		margin: 0;
		padding: 0;
	}
	ol:first-child {
		text-align: center;
		width: 100%;
	}
	ol {
		padding-top: 20px;
		position: relative;
		white-space: nowrap;
		ol::before {
			// Time to add downward connectors from parents
			content: '';
			position: absolute; 
			top: 0; 
			left: 50%;
			border-left: 1px solid @_color-line;
			width: 0; 
			height: 20px;
		}
	}
	li {
		display: inline-block;
		text-align: center;
		list-style-type: none;
		position: relative;
		padding: 20px 5px 0 5px;
		vertical-align: top;
		&::before, &::after {
			// We will use ::before and ::after to draw the connectors
			content: '';
			position: absolute;
			top: 0;
			right: 50%;
			border-top: 1px solid @_color-line;
			width: 50%;
			height: 20px;
		}
		&::after {
			right: auto;
			left: 50%;
			border-left: 1px solid @_color-line;
		}
		&:only-child::after, &:only-child::before {
			// We need to remove left-right connectors from elements without any siblings
			display: none;
		}
		&:only-child{
			// Remove space from the top of single children
			padding-top: 0;
		}
		&:first-child::before, &:last-child::after {
			// Remove left connector from first child and right connector from last child
			border: 0 none;
		}
		&:last-child::before {
			// Adding back the vertical connector to the last nodes
			border-right: 1px solid @_color-line;
			border-radius: 0 5px 0 0;
		}
		&:first-child::after {
			border-radius: 5px 0 0 0;
		}
		span {

			width: 80px;
			height: 80px;
			text-align: left;
			border: 4px solid;
			font-weight: bold;
			padding: 10px;
			text-decoration: none;
			color: fade(#000, 90%);
			font-family: arial, verdana, tahoma;
			font-size: 12px;
			display: inline-block;
			background-color: #FFF;
			border-radius: 20px;
			white-space: normal;

			&:hover, &:hover+ol li span {
				// We will apply the hover effect the the lineage of the element also
				background-color: @_color-hoverbg;
				color: #000;
			}
			&:hover+ol li::after, &:hover+ol li::before, &:hover+ol::before, &:hover+ol ol::before {
				border-color: #000;
			}
			&.collapsed {
				opacity: .2;
			}
			&.collapsed+ol, &.collapsed+li {
				display: none;
			}
			&.component {
				border: 2px dashed @_color-line;
				padding: 12px;
			}
			&.dialog {
				background-color: fade(#000, 60%);
				color: #FFF;
				&:hover {
					background-color: fade(@_color-hoverbg, 60%);
					color: #000;
				}
			}
		}
	}
}